<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<!-- 국.변 -->
<title>js 변수</title>
</head>
<body>

<h3>변수선언, 지역/전역/블록(변수)</h3>
<hr>

<script>
	let x; //전역 변수 x를 선언, var로 선언해도 동일하다.
	function f() {
		let y; //y는 함수안에서 생성하고 로컬 변수이며 var로 선언해도 동일하다
		x = 10;
		y = 20;
		z = 30 //함수안에서 만들시 var, let없이 생성하면 로컬이 아닌 전역변수가 된다.
		if(y == 20) {
			let b = 40; /* if 블록안에서만 사용되는 블록 변수 b를 선언, var은 선언 불가, 
			선언하면 함수내에서 사용하는 로컬 변수가 된다. */
			
			/* - 해당 블록 안에서만 사용하는 변수는 let, const로만 가능하다. 
			   - 자바스크립트는 이전에는 함수안의 로컬변수오 전역 변수만 있었지 블록에서의 변수는 없었다. 
			*/
			b++;
			document.write("if 블록 내 블록변수 b = " + b + "<br>");
			document.write("함수 f() 내 지역변수 y = " + y + "<br>");
		}
		/* - 이곳에서는 블록 변수 b에 접근 할 수 없다.
		   - 이곳에서는 변수 x, y, z에 모두 접근가능
		*/
			document.write("함수 f() 내 지역변수 y = " + y + "<br>");
			//document.write("if 블록 내 블록변수 b = " + b + "<br>");
			//b는 if문 안에서만 사용하는 블록 로컬 변수명으로 접근불가
	}
	f(); //함수 호출
	
	//전역 변수는 함수 밖에서 사용가능
	document.write("전역변수 x = " + x + "<br>");
	document.write("전역변수 z = " + z);
</script>

<script>
	//같은 html페이지의 script에서 전역변수는 다른 script에서도 사용할 수 있다.
	var x1 = 30;
	document.write("위 전역 변수 x1 = " + x1);
	//단, script가 다르면 this로 못 불러온다.
	function f1() {
		var x1 = 25;
		document.write("지역변수 x1 = " + x1);
		document.write("<br>");
		document.write("전역변수 x1 = " + this.x1); //let을 사용하면 this를 사용하지 못한다, "this.x1" 이런 방법으로는 불러올 수가 없다
	}
	f1();
	//한 페이지의 다른 script의 함수도 호출가능
	f();
</script>	
</body>
</html>